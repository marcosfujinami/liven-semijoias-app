{% extends "products/base_products.html" %}

{% block title %}{{ product.name }}{% endblock %}

{% block breadcrumb_items %}
    <li class="breadcrumb-item"><a href="{% url 'products:product_list' %}">Produtos</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{ product.name }}</li>
{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>{{ product.name }} {% if product.sku %}<small class="text-muted"> (SKU: {{ product.sku }})</small>{% endif %}</h2>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-4">
                {% if product.image_url %}
                    <img src="{{ product.image_url }}" alt="{{ product.name }}" class="img-fluid rounded">
                {% else %}
                    <div class="text-center text-muted p-5 border rounded">Sem imagem</div>
                {% endif %}
            </div>
            <div class="col-md-8">
                <p><strong>Categoria:</strong> {{ product.category.name|default:"N/A" }}</p>
                <p><strong>Material:</strong> {{ product.material|default:"N/A" }}</p>
                <p><strong>Cor:</strong> {{ product.color|default:"N/A" }}</p>
                <p><strong>Dimensões:</strong> {{ product.dimensions|default:"N/A" }}</p>
                <p><strong>Peso:</strong> {{ product.weight_g|default:"N/A" }} g</p>
                <h4 class="mt-3">Precificação</h4>
                <p><strong>Preço de Custo:</strong> R$ {{ product.cost_price|floatformat:2 }}</p>
                <p><strong>Preço de Venda:</strong> R$ {{ product.sale_price|floatformat:2 }}</p>
                <h4 class="mt-3">Descrição</h4>
                <p>{{ product.description|linebreaksbr|default:"Nenhuma descrição fornecida." }}</p>
                {% if product.barcode %}<p><strong>Código de Barras:</strong> {{ product.barcode }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="card-footer">
        <a href="{% url 'products:product_update' product.pk %}" class="btn btn-secondary">Editar Produto</a>
        <a href="{% url 'products:product_delete' product.pk %}" class="btn btn-danger">Excluir Produto</a>
        <a href="{% url 'products:product_list' %}" class="btn btn-outline-secondary">Voltar para Lista</a>
    </div>
</div>
{% endblock %}
