{% extends "products/base_products.html" %}

{% block title %}{{ category.name }}{% endblock %}

{% block breadcrumb_items %}
    <li class="breadcrumb-item"><a href="{% url 'products:category_list' %}">Categorias</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{ category.name }}</li>
{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>{{ category.name }}</h2>
    </div>
    <div class="card-body">
        <p><strong>Descrição:</strong> {{ category.description|default:"N/A" }}</p>
        <hr>
        <h3>Produtos nesta Categoria:</h3>
        {% if category.product_set.all %}
            <ul>
                {% for product in category.product_set.all %}
                    <li><a href="{{ product.get_absolute_url }}">{{ product.name }}</a></li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Nenhum produto nesta categoria.</p>
        {% endif %}
    </div>
    <div class="card-footer">
        <a href="{% url 'products:category_update' category.pk %}" class="btn btn-secondary">Editar Categoria</a>
        <a href="{% url 'products:category_delete' category.pk %}" class="btn btn-danger">Excluir Categoria</a>
        <a href="{% url 'products:category_list' %}" class="btn btn-outline-secondary">Voltar para Lista</a>
    </div>
</div>
{% endblock %}
